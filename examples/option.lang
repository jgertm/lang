(defmodule examples.option
  (:import [lang.io :as io]
           [lang.option :as option]))


; TODO: implement `flip-default` using `flip`
; (âˆ€ X Y Z (-> (-> X Y Z) (-> Y X Z)))
(defn flip
  [f]
  (fn [x y] (f y x)))

(def flip-default*
  (flip default))

(def val [:option/some "shiiiit"])


(defn apply
  [f x]
  (f x))

(defn main
  [argv : (Array String)]
  (io/println (option/default ((fn [x] x) val) "fuck"))
  (io/println (option/default (option/map (fn [x] "shit") val) "fail")))
